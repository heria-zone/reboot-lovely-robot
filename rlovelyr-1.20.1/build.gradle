subprojects {
	
	apply plugin: 'java'
	java.toolchain.languageVersion = JavaLanguageVersion.of(17)

    jar {
        manifest {
            attributes([
                    "Specification-Title": "${mod_id}",
                    "Specification-Vendor": "${mod_author}",
                    "Specification-Version": "1",
                    "Implementation-Title": "${mod_name}",
                    "Implementation-Version": "${mod_version}",
                    "Implementation-Vendor": "${mod_author}",
                    "Implementation-Timestamp": new Date().format("yyyy-MM-dd'T'HH:mm:ssZ")
            ])
        }
    }

    repositories {
    	mavenCentral()

    	maven {
            url "https://cursemaven.com"
            content {
                includeGroup "curse.maven"
            }
        }
    }

  	tasks.withType(JavaCompile).configureEach {
        it.options.encoding = 'UTF-8'
        it.options.release = 17
    }

    task wrapper(type: Wrapper) {
        gradleVersion = "${gradle_version}"
    }

    tasks.withType(GenerateModuleMetadata) {
        enabled = false
    }
}